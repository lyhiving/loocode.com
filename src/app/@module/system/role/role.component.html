<nb-card>
  <nb-card-header>
    {{ title }}
    <div class="float-right mr-3">
      <button nbButton status="danger" size="small" (click)="refreshMenu()">刷新菜单</button>
    </div>
  </nb-card-header>

  <nb-card-body>
    <ng2-smart-table
      [settings]="settings"
      [source]="source"
      (create)="create($event)"
      (edit)="edit($event)"
      (delete)="delete($event)"
    >
    </ng2-smart-table>
  </nb-card-body>
</nb-card>

<ng-template #storeWindow>
  <div class="row">
    <div class="col-lg-12">
      <form>
        <div class="form-group row">
          <label for="inputName" class="label col-lg-2 col-form-label">名称</label>
          <div class="col-lg-10">
            <input type="text" nbInput fullWidth [(ngModel)]="role.name" required="required" placeholder="必填" name="name"  id="inputName">
          </div>
        </div>
        <div class="form-group row">
          <label for="inputPermission" class="label col-lg-2 col-form-label">权限</label>
          <div class="col-lg-10">
            <app-tree [items]="menus" (selectedChange)="permissionSelected($event)"></app-tree>
          </div>
        </div>
        <div class="form-group row">
          <div class="offset-lg-3 col-lg-9">
            <button type="submit" class="btn btn-primary" (click)="action()">{{ operationName() }}</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</ng-template>
